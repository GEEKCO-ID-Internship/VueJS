<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Member</title>

	<!-- Fonts -->
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css?family=Nunito">
    <link rel="stylesheet" type="text/css" href="style.css">
	
</head>
<body>
    <div id="app">
        
        
        <form @submit.prevent="submitForm()">
            <p v-if="errors.length">
                <b>Please correct the following errors :</b>
                <ul>
                    <li v-for="error in errors">{{ error }}</li>
                </ul>
            </p>
            <label>Name :</label>
            <input type="text" :disabled="buttonStatus=='upload'" name="name" ref="name" v-model="name">
            <br>
            <br>
            <label>Address :</label>
            <input type="text" :disabled="buttonStatus=='upload'" name="adress" ref="address" v-model="address">
            <br>
            <br>
            <label>Phone :</label>
            <input type="text" :disabled="buttonStatus=='upload'" name="no_hp" ref="no_hp" v-model="no_hp">
            <br>
            <br>

            <div v-if="buttonStatus == 'submit'">
            <input type="submit" value="SUBMIT">
            </div>
            <div v-else-if="buttonStatus == 'update'">
            <input type="button" value="UPDATE" @click="updateMember(idEditMember)">
            <input type="button" value="CANCEL" @click="clearFormCancel">
            </div>
            <div v-else-if="buttonStatus == 'upload'">
            <input type="file" name="photo" ref="photo">
            <input type="button" value="SUBMIT PHOTO" @click="submitPhoto(idUploadMember)">
            <input type="button" value="CANCEL" @click="clearFormCancel">
            </div>

        </form>
        <br><br>
        <button @click="getMembers">Get Data</button>
        <br><br>
        <div id = "app">
            <members-Component :allmembers="members"
            
            @edit="editMember"
            @remove="removeMember"
            @upload="upload"
            ></members-Component>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src = "main.js"></script>
</body>
</html>